{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAiBC,GAEb,OAAOA,GAAOA,EAAIC,cAAgBC,OAAS,gBAAkBF,C,ECPjE,IAAMG,EAAM,wECIZ,IAAMC,EAAO,CACTC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cA8CjC,SAASI,EAAaC,G,IAACC,EAADD,EAACC,GAAIC,EAALF,EAAKE,KAC3B,MAAO,kBAAyBC,OAAPF,EAAG,MAASE,OAALD,EAAK,Y,CAGrC,SAASE,EAAgBJ,G,IAAAK,EAAAL,EAACK,IAC1B,MAAO,aAAiBF,OAAJE,EAAI,gD,CA5CxBb,EAAKC,OAAOa,iBAAiB,UAE7B,SAAsBC,GAMPN,EALIM,EAAIC,OAAOtB,ODJEuB,ECUZR,EDTTS,MAAM,GAA2BP,OAZzB,6CAYY,eAAgCA,OAAnBM,EAAQ,aAAeN,OAAJZ,IAC1DoB,MAAK,SAAAC,GACF,OAAOA,EAAKC,M,KCOIF,MAAK,SAAAG,GAC7B,IAAMC,EAAMD,EAAKE,IAAIZ,GAAiBa,KAAK,IAC3CzB,EAAKM,KAAKoB,mBAAmB,aAAaH,GAC1C,IAAMI,EAAaL,EAAKE,KAAI,SAAAI,G,OAAQA,EAAKC,M,IAIzCC,QAAQC,SAAqB,IAAVJ,EAAU,YAAjBK,EAAAvC,EAAA,CAAOkC,IAInBG,QAAQC,IAAIT,E,IAEPW,OAAM,SAAAC,GACHJ,QAAQC,IAAIG,E,IDxBb,IAAyBjB,ECShC,IAAeR,C,IDhBJS,MAAM,GAAcP,OALd,gCAKmCA,OANlC,UAMuB,aAAeA,OAAJZ,IAC/CoB,MAAK,SAAAgB,GACF,OAAOA,EAASd,M,ICmCNF,MAAK,SAAAG,GACf,IAAMb,EAAKa,EAAKE,IAAIjB,GAAakB,KAAK,IACtCzB,EAAKC,OAAOyB,mBAAmB,aAAajB,E,IAE7CwB,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,E","sources":["node_modules/@swc/helpers/lib/_type_of.js","src/cat-api.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _typeof;\nfunction _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n}\n;\n","const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        return resp.json();\n    })\n}","import {fetchBreeds} from './cat-api'\nimport {fetchCatByBreed} from './cat-api'\n\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\n// 1+получить все породы\n// 2+подставить их селект\n// 3-получить инфу по выбраной породе\n// 4-подставить в див \nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    fetchCatByBreed(id).then(data => {\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds)\n\n// const dataCat = breedsInfo.flatMap(createMarkUpAboutCat).join('');\n        // refs.info.insertAdjacentHTML('afterbegin',breedsInfo);\nconsole.log(typeof(breedsInfo))\n\n        \n\nconsole.log(data)\n})\n    .catch(err => {\n        console.log(err)\n    })\n}\n\nfunction getBreeds () {\n\n    fetchBreeds().then(data => {\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n        \n    }).catch(err => {\n        console.log(err)\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<img src=\"${url}\" alt=\"cat\" width=\"640\" class=\"cat-info_img\">`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p>Temperament:${temperament}</p>`\n}\n\ngetBreeds()\n\n\n// function findCat(){\n//     fetchBreeds().then(data => {\n//         const id = data.map(addMarkUpId).join('')\n//         refs.select.insertAdjacentHTML('afterbegin',id)\n        \n//     }).catch(err => {\n//         console.log(err)\n//     })\n// }\n// ======================\n// const makeGalleryImagesMarkup = ({url, alt}) => {\n//     return `<li class=\"gallery_link\"><img src=${url} alt=${alt} width = 300 class=\"gallery_img\"></img></li>`;\n//     }\n    \n//     const galleryImg = images.map(makeGalleryImagesMarkup).join('')\n    \n//     galleryList.insertAdjacentHTML(\"afterbegin\",galleryImg);"],"names":["Object","defineProperty","$f59351132b4b3cee$exports","value","default","obj","constructor","Symbol","$ae0c329fb0fb36dc$var$KEY","$b8f9b7833fa37166$var$refs","select","document","querySelector","load","error","info","$b8f9b7833fa37166$var$addMarkUpId","param","id","name","concat","$b8f9b7833fa37166$var$createMarkUpImg","url","addEventListener","evt","target","breedId","fetch","then","resp","json","data","img","map","join","insertAdjacentHTML","breedsInfo","elem","breeds","console","log","$parcel$interopDefault","catch","err","response"],"version":3,"file":"index.16889112.js.map"}