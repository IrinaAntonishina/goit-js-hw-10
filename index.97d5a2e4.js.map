{"mappings":"AAIA,MAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cA8CjC,SAASI,GAAaC,GAACA,EAAEC,KAAEA,IAC3B,MAAO,kBAAkBD,MAAOC,Y,CAGhC,SAASC,GAAgBC,IAACA,IAC1B,MAAO,aAAaA,gD,CA5CpBX,EAAKC,OAAOW,iBAAiB,UAE7B,SAAsBC,GAMPL,EALIK,EAAIC,OAAOC,OCJEC,EDUZR,ECTTS,MAAM,wDAA2BD,mFACvCE,MAAKC,GACKA,EAAKC,UDOIF,MAAKG,IAC7B,MAAMC,EAAMD,EAAKE,IAAIb,GAAiBc,KAAK,IAC3CxB,EAAKM,KAAKmB,mBAAmB,aAAaH,GAC1C,MAAMI,EAAaL,EAAKE,KAAII,GAAQA,EAAKC,SAIzCC,QAAQC,WAAWJ,GAInBG,QAAQC,IAAIT,EAAK,IAEZU,OAAMC,IACHH,QAAQC,IAAIE,EAAI,ICxBjB,IAAyBhB,EDShC,IAAeR,C,IChBJS,MAAM,qHACZC,MAAKe,GACKA,EAASb,SDmCNF,MAAKG,IACf,MAAMb,EAAKa,EAAKE,IAAIhB,GAAaiB,KAAK,IACtCxB,EAAKC,OAAOwB,mBAAmB,aAAajB,EAAG,IAEhDuB,OAAMC,IACLH,QAAQC,IAAIE,EAAI","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import {fetchBreeds} from './cat-api'\nimport {fetchCatByBreed} from './cat-api'\n\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\n// 1+получить все породы\n// 2+подставить их селект\n// 3-получить инфу по выбраной породе\n// 4-подставить в див \nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    fetchCatByBreed(id).then(data => {\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds)\n\n// const dataCat = breedsInfo.flatMap(createMarkUpAboutCat).join('');\n        // refs.info.insertAdjacentHTML('afterbegin',breedsInfo);\nconsole.log(typeof(breedsInfo))\n\n        \n\nconsole.log(data)\n})\n    .catch(err => {\n        console.log(err)\n    })\n}\n\nfunction getBreeds () {\n\n    fetchBreeds().then(data => {\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n        \n    }).catch(err => {\n        console.log(err)\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<img src=\"${url}\" alt=\"cat\" width=\"640\" class=\"cat-info_img\">`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p>Temperament:${temperament}</p>`\n}\n\ngetBreeds()\n\n\n// function findCat(){\n//     fetchBreeds().then(data => {\n//         const id = data.map(addMarkUpId).join('')\n//         refs.select.insertAdjacentHTML('afterbegin',id)\n        \n//     }).catch(err => {\n//         console.log(err)\n//     })\n// }\n// ======================\n// const makeGalleryImagesMarkup = ({url, alt}) => {\n//     return `<li class=\"gallery_link\"><img src=${url} alt=${alt} width = 300 class=\"gallery_img\"></img></li>`;\n//     }\n    \n//     const galleryImg = images.map(makeGalleryImagesMarkup).join('')\n    \n//     galleryList.insertAdjacentHTML(\"afterbegin\",galleryImg);","const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        return resp.json();\n    })\n}"],"names":["$1f0dc3b9307be026$var$refs","select","document","querySelector","load","error","info","$1f0dc3b9307be026$var$addMarkUpId","id","name","$1f0dc3b9307be026$var$createMarkUpImg","url","addEventListener","evt","target","value","breedId","fetch","then","resp","json","data","img","map","join","insertAdjacentHTML","breedsInfo","elem","breeds","console","log","catch","err","response"],"version":3,"file":"index.97d5a2e4.js.map"}