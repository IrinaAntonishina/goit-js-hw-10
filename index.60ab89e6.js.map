{"mappings":"AAiBO,SAASA,EAAgBC,GAC5B,OAAOC,MAAM,wDAA2BD,mFACvCE,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,QAEzB,OAAOH,EAAKI,MAAM,G,CCrBxB,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cA0DjC,SAASI,GAAaC,GAACA,EAAEC,KAAEA,IAC3B,MAAO,kBAAkBD,MAAOC,Y,CAGhC,SAASC,GAAgBC,IAACA,IAC1B,MAAO,yCAAyCA,sD,CAGhD,SAASC,GAAqBC,YAACA,EAAWJ,KAAEA,EAAIK,YAAEA,IAC9C,MAAO,yDAAyDL,wCACrCI,iEAC0BC,a,CAlEzDd,EAAKC,OAAOc,iBAAiB,UAE7B,SAAsBC,IAMtB,SAAeR,GACXR,EAAKI,KAAKa,UAAUC,OAAO,aAC3BlB,EAAKI,KAAKa,UAAUE,SAAS,cACrBnB,EAAKM,KAAKW,UAAUG,IAAI,aAGhC7B,EAAgBiB,GAAId,MAAK2B,IAErBrB,EAAKI,KAAKa,UAAUG,IAAI,aACxBpB,EAAKM,KAAKW,UAAUC,OAAO,aAExBlB,EAAKM,KAAKW,UAAUE,SAAS,YAC5BnB,EAAKM,KAAKgB,UAAY,IAElC,MAAMC,EAAMF,EAAKG,IAAId,GAAiBe,KAAK,IAC3CzB,EAAKM,KAAKoB,mBAAmB,aAAaH,GAC1C,MAEMI,EAFaN,EAAKG,KAAII,GAAQA,EAAKC,SAClB,GACHL,IAAIZ,GAAsBa,KAAK,IACnDzB,EAAKM,KAAKoB,mBAAmB,YAAYC,GACzC3B,EAAKM,KAAKW,UAAUG,IAAI,SAAS,IAG5BU,OAAMC,IACH/B,EAAKI,KAAKa,UAAUG,IAAI,aACxBpB,EAAKK,MAAMY,UAAUC,OAAO,YAAY,IACzCc,QAAQhC,EAAKK,MAAMY,UAAUG,IAAI,a,CA9BxCa,CADmBjB,EAAIkB,OAAOC,M,IAmC1BnC,EAAKK,MAAMY,UAAUG,IAAI,aACzBpB,EAAKC,OAAOgB,UAAUG,IAAI,aDzCnB3B,MAAM,qHACZC,MAAK0C,IACF,IAAKA,EAASxC,GACV,MAAM,IAAIC,MAAMuC,EAAStC,QAE7B,OAAOsC,EAASrC,MAAM,ICsCZL,MAAK2B,IACfrB,EAAKC,OAAOgB,UAAUC,OAAO,aAC5BlB,EAAKI,KAAKa,UAAUG,IAAI,aACzB,MAAMZ,EAAKa,EAAKG,IAAIjB,GAAakB,KAAK,IACtCzB,EAAKC,OAAOyB,mBAAmB,aAAalB,EAAG,IAEhDsB,OAAMC,IACL/B,EAAKI,KAAKa,UAAUG,IAAI,aACxBpB,EAAKK,MAAMY,UAAUC,OAAO,aAC5BlB,EAAKC,OAAOgB,UAAUG,IAAI,YAAY","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n          }\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.status);\n          }\n        return resp.json();\n    })\n}","import {fetchCatByBreed, fetchBreeds} from './cat-api'\n\n  const refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    refs.load.classList.remove('is-hidden')\nif(!refs.load.classList.contains('is-hidden')){\n            refs.info.classList.add('is-hidden')\n        }\n    \n    fetchCatByBreed(id).then(data => {\n        \n        refs.load.classList.add('is-hidden')\n        refs.info.classList.remove('is-hidden')\n        \n        if(refs.info.classList.contains(\"active\")){\n            refs.info.innerHTML = '';\n           }\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds);\nconst arr = breedsInfo[0];\nconst dataCat = arr.map(createMarkUpAboutCat).join('');\nrefs.info.insertAdjacentHTML('beforeend',dataCat);\nrefs.info.classList.add('active')\n\n})\n    .catch(err => {\n        refs.load.classList.add('is-hidden')\n        refs.error.classList.remove('is-hidden')\n    }).finally(refs.error.classList.add('is-hidden'))\n}\n\nfunction getBreeds () {\n    refs.error.classList.add('is-hidden')\n    refs.select.classList.add('is-hidden')\n    \n    fetchBreeds().then(data => {\n        refs.select.classList.remove('is-hidden')\n         refs.load.classList.add('is-hidden')\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n       \n    }).catch(err => {\n        refs.load.classList.add('is-hidden')\n        refs.error.classList.remove('is-hidden')\n        refs.select.classList.add('is-hidden')\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<div class=\"container-img\"> <img src=\"${url}\" alt=\"cat\" width=\"500\" class=\"cat-info_img\"></div>`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<div class=\"container-info\"><h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p><span class=\"cat-info_span\">Temperament:</span> ${temperament}</p></div>`\n}\n\ngetBreeds()\n\n\n\n"],"names":["$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","fetch","then","resp","ok","Error","status","json","$1f0dc3b9307be026$var$refs","select","document","querySelector","load","error","info","$1f0dc3b9307be026$var$addMarkUpId","id","name","$1f0dc3b9307be026$var$createMarkUpImg","url","$1f0dc3b9307be026$var$createMarkUpAboutCat","description","temperament","addEventListener","evt","classList","remove","contains","add","data","innerHTML","img","map","join","insertAdjacentHTML","dataCat","elem","breeds","catch","err","finally","$1f0dc3b9307be026$var$getId","target","value","response"],"version":3,"file":"index.60ab89e6.js.map"}