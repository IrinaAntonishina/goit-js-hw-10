{"mappings":"AAIA,MAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cAqDjC,SAASI,GAAaC,GAACA,EAAEC,KAAEA,IAC3B,MAAO,kBAAkBD,MAAOC,Y,CAGhC,SAASC,GAAgBC,IAACA,IAC1B,MAAO,yCAAyCA,sD,CAGhD,SAASC,GAAqBC,YAACA,EAAWJ,KAAEA,EAAIK,YAAEA,IAC9C,MAAO,yDAAyDL,wCACrCI,iEAC0BC,a,CAzDzDd,EAAKC,OAAOc,iBAAiB,UAE7B,SAAsBC,GAMPR,EALIQ,EAAIC,OAAOC,MAM1BlB,EAAKI,KAAKe,UAAUC,OAAO,cCVCC,EDcZb,ECbTc,MAAM,wDAA2BD,mFACvCE,MAAKC,GACKA,EAAKC,UDWIF,MAAKG,IACrB1B,EAAKI,KAAKe,UAAUQ,IAAI,aAErB3B,EAAKM,KAAKa,UAAUS,SAAS,YAC5B5B,EAAKM,KAAKuB,UAAY,IAElC,MAAMC,EAAMJ,EAAKK,IAAIrB,GAAiBsB,KAAK,IAC3ChC,EAAKM,KAAK2B,mBAAmB,aAAaH,GAC1C,MAEMI,EAFaR,EAAKK,KAAII,GAAQA,EAAKC,SAClB,GACHL,IAAInB,GAAsBoB,KAAK,IAC3ChC,EAAKM,KAAK2B,mBAAmB,YAAYC,GACjDlC,EAAKM,KAAKa,UAAUQ,IAAI,SAAS,IAG5BU,OAAMC,IACHC,QAAQC,IAAIF,EAAI,IC9BjB,IAAyBjB,EDShC,IAAeb,C,IA0BXR,EAAKI,KAAKe,UAAUQ,IAAI,aACxB3B,EAAKK,MAAMc,UAAUQ,IAAI,aC3ClBL,MAAM,qHACZC,MAAKkB,GACKA,EAAShB,SD0CNF,MAAKG,IACf,MAAMlB,EAAKkB,EAAKK,IAAIxB,GAAayB,KAAK,IACtChC,EAAKC,OAAOgC,mBAAmB,aAAazB,EAAG,IAEhD6B,OAAMC,IACLC,QAAQC,IAAIF,EAAI","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import {fetchBreeds} from './cat-api'\nimport {fetchCatByBreed} from './cat-api'\n\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\n// 1+получить все породы\n// 2+подставить их селект\n// 3+получить инфу по выбраной породе\n// 4+подставить в див \nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    refs.load.classList.remove('is-hidden')\n    // if(refs.load.classList.contains('is-hidden')){\n    //     refs.info.classList.add('is-hidden')\n    // }\n    fetchCatByBreed(id).then(data => {\n        refs.load.classList.add('is-hidden')\n        \n        if(refs.info.classList.contains(\"active\")){\n            refs.info.innerHTML = '';\n           }\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds);\nconst arr = breedsInfo[0];\nconst dataCat = arr.map(createMarkUpAboutCat).join('');\n        refs.info.insertAdjacentHTML('beforeend',dataCat);\nrefs.info.classList.add('active')\n\n})\n    .catch(err => {\n        console.log(err)\n    })\n}\n\nfunction getBreeds () {\n    refs.load.classList.add('is-hidden')\n    refs.error.classList.add('is-hidden')\n    fetchBreeds().then(data => {\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n        \n    }).catch(err => {\n        console.log(err)\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<div class=\"container-img\"> <img src=\"${url}\" alt=\"cat\" width=\"640\" class=\"cat-info_img\"></div>`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<div class=\"container-info\"><h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p><span class=\"cat-info_span\">Temperament:</span> ${temperament}</p></div>`\n}\n\ngetBreeds()\n\n\n\n","const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        return resp.json();\n    })\n}"],"names":["$1f0dc3b9307be026$var$refs","select","document","querySelector","load","error","info","$1f0dc3b9307be026$var$addMarkUpId","id","name","$1f0dc3b9307be026$var$createMarkUpImg","url","$1f0dc3b9307be026$var$createMarkUpAboutCat","description","temperament","addEventListener","evt","target","value","classList","remove","breedId","fetch","then","resp","json","data","add","contains","innerHTML","img","map","join","insertAdjacentHTML","dataCat","elem","breeds","catch","err","console","log","response"],"version":3,"file":"index.4c8c2842.js.map"}