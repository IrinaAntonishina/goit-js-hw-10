{"mappings":"YAAA,IAAMA,EAAM,wEAiBL,SAASC,EAAgBC,GAC5B,OAAOC,MAAM,GAA2BC,OAfzB,6CAeY,eAAgCA,OAAnBF,EAAQ,aAAeE,OAAJJ,IAC1DK,MAAK,SAAAC,GACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,QAEzB,OAAOH,EAAKI,M,ICrBlB,IAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cA0DjC,SAASI,EAAaC,G,IAACC,EAADD,EAACC,GAAIC,EAALF,EAAKE,KAC3B,MAAO,kBAAyBjB,OAAPgB,EAAG,MAAShB,OAALiB,EAAK,Y,CAGrC,SAASC,EAAgBH,G,IAAAI,EAAAJ,EAACI,IAC1B,MAAO,yCAA6CnB,OAAJmB,EAAI,sD,CAGpD,SAASC,EAAqBL,G,IAACM,EAADN,EAACM,YAAaJ,EAAdF,EAAcE,KAAMK,EAApBP,EAAoBO,YAC9C,MAAO,yDACoBtB,OADqCiB,EAAK,wCAEhBjB,OAD1BqB,EAAY,iEAC0BrB,OAAZsB,EAAY,a,CAlErEf,EAAKC,OAAOe,iBAAiB,UAE7B,SAAsBC,IAMtB,SAAeR,GACXT,EAAKI,KAAKc,UAAUC,OAAO,aAC3BnB,EAAKI,KAAKc,UAAUE,SAAS,cACrBpB,EAAKM,KAAKY,UAAUG,IAAI,aAGhC/B,EAAgBmB,GAAIf,MAAK,SAAA4B,GAErBtB,EAAKI,KAAKc,UAAUG,IAAI,aACxBrB,EAAKM,KAAKY,UAAUC,OAAO,aAExBnB,EAAKM,KAAKY,UAAUE,SAAS,YAC5BpB,EAAKM,KAAKiB,UAAY,IAElC,IAAMC,EAAMF,EAAKG,IAAId,GAAiBe,KAAK,IAC3C1B,EAAKM,KAAKqB,mBAAmB,aAAaH,GAC1C,IAEMI,EAFaN,EAAKG,KAAI,SAAAI,G,OAAQA,EAAKC,M,IAClB,GACHL,IAAIZ,GAAsBa,KAAK,IACnD1B,EAAKM,KAAKqB,mBAAmB,YAAYC,GACzC5B,EAAKM,KAAKY,UAAUG,IAAI,S,IAGnBU,OAAM,SAAAC,GACHhC,EAAKI,KAAKc,UAAUG,IAAI,aACxBrB,EAAKK,MAAMa,UAAUC,OAAO,Y,IAC7Bc,QAAQjC,EAAKK,MAAMa,UAAUG,IAAI,a,CA9BxCa,CADmBjB,EAAIkB,OAAOC,M,IAmC1BpC,EAAKK,MAAMa,UAAUG,IAAI,aACzBrB,EAAKC,OAAOiB,UAAUG,IAAI,aDzCnB7B,MAAM,GAAcC,OALd,gCAKmCA,OANlC,UAMuB,aAAeA,OAAJJ,IAC/CK,MAAK,SAAA2C,GACF,IAAKA,EAASzC,GACV,MAAM,IAAIC,MAAMwC,EAASvC,QAE7B,OAAOuC,EAAStC,M,ICsCNL,MAAK,SAAA4B,GACftB,EAAKC,OAAOiB,UAAUC,OAAO,aAC5BnB,EAAKI,KAAKc,UAAUG,IAAI,aACzB,IAAMZ,EAAKa,EAAKG,IAAIlB,GAAamB,KAAK,IACtC1B,EAAKC,OAAO0B,mBAAmB,aAAalB,E,IAE7CsB,OAAM,SAAAC,GACLhC,EAAKI,KAAKc,UAAUG,IAAI,aACxBrB,EAAKK,MAAMa,UAAUC,OAAO,aAC5BnB,EAAKC,OAAOiB,UAAUG,IAAI,Y","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n          }\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.status);\n          }\n        return resp.json();\n    })\n}","import {fetchCatByBreed, fetchBreeds} from './cat-api'\n\n  const refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    refs.load.classList.remove('is-hidden')\nif(!refs.load.classList.contains('is-hidden')){\n            refs.info.classList.add('is-hidden')\n        }\n    \n    fetchCatByBreed(id).then(data => {\n        \n        refs.load.classList.add('is-hidden')\n        refs.info.classList.remove('is-hidden')\n        \n        if(refs.info.classList.contains(\"active\")){\n            refs.info.innerHTML = '';\n           }\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds);\nconst arr = breedsInfo[0];\nconst dataCat = arr.map(createMarkUpAboutCat).join('');\nrefs.info.insertAdjacentHTML('beforeend',dataCat);\nrefs.info.classList.add('active')\n\n})\n    .catch(err => {\n        refs.load.classList.add('is-hidden')\n        refs.error.classList.remove('is-hidden')\n    }).finally(refs.error.classList.add('is-hidden'))\n}\n\nfunction getBreeds () {\n    refs.error.classList.add('is-hidden')\n    refs.select.classList.add('is-hidden')\n    \n    fetchBreeds().then(data => {\n        refs.select.classList.remove('is-hidden')\n         refs.load.classList.add('is-hidden')\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n       \n    }).catch(err => {\n        refs.load.classList.add('is-hidden')\n        refs.error.classList.remove('is-hidden')\n        refs.select.classList.add('is-hidden')\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<div class=\"container-img\"> <img src=\"${url}\" alt=\"cat\" width=\"500\" class=\"cat-info_img\"></div>`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<div class=\"container-info\"><h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p><span class=\"cat-info_span\">Temperament:</span> ${temperament}</p></div>`\n}\n\ngetBreeds()\n\n\n\n"],"names":["$ae0c329fb0fb36dc$var$KEY","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","fetch","concat","then","resp","ok","Error","status","json","$b8f9b7833fa37166$var$refs","select","document","querySelector","load","error","info","$b8f9b7833fa37166$var$addMarkUpId","param","id","name","$b8f9b7833fa37166$var$createMarkUpImg","url","$b8f9b7833fa37166$var$createMarkUpAboutCat","description","temperament","addEventListener","evt","classList","remove","contains","add","data","innerHTML","img","map","join","insertAdjacentHTML","dataCat","elem","breeds","catch","err","finally","$b8f9b7833fa37166$var$getId","target","value","response"],"version":3,"file":"index.80b3ba5f.js.map"}