{"mappings":"YAAA,IAAMA,EAAM,wECIZ,IAAMC,EAAO,CACTC,OAAQC,SAASC,cAAc,iBAC/BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,UAC9BG,KAAMJ,SAASC,cAAc,cAqDjC,SAASI,EAAaC,G,IAACC,EAADD,EAACC,GAAIC,EAALF,EAAKE,KAC3B,MAAO,kBAAyBC,OAAPF,EAAG,MAASE,OAALD,EAAK,Y,CAGrC,SAASE,EAAgBJ,G,IAAAK,EAAAL,EAACK,IAC1B,MAAO,yCAA6CF,OAAJE,EAAI,sD,CAGpD,SAASC,EAAqBN,G,IAACO,EAADP,EAACO,YAAaL,EAAdF,EAAcE,KAAMM,EAApBR,EAAoBQ,YAC9C,MAAO,yDACoBL,OADqCD,EAAK,wCAEhBC,OAD1BI,EAAY,iEAC0BJ,OAAZK,EAAY,a,CAzDrEhB,EAAKC,OAAOgB,iBAAiB,UAE7B,SAAsBC,GAMPT,EALIS,EAAIC,OAAOC,MAM1BpB,EAAKI,KAAKiB,UAAUC,OAAO,cDVCC,ECcZd,EDbTe,MAAM,GAA2Bb,OAZzB,6CAYY,eAAgCA,OAAnBY,EAAQ,aAAeZ,OAAJZ,IAC1D0B,MAAK,SAAAC,GACF,OAAOA,EAAKC,M,KCWIF,MAAK,SAAAG,GACrB5B,EAAKI,KAAKiB,UAAUQ,IAAI,aAErB7B,EAAKM,KAAKe,UAAUS,SAAS,YAC5B9B,EAAKM,KAAKyB,UAAY,IAElC,IAAMC,EAAMJ,EAAKK,IAAIrB,GAAiBsB,KAAK,IAC3ClC,EAAKM,KAAK6B,mBAAmB,aAAaH,GAC1C,IAEMI,EAFaR,EAAKK,KAAI,SAAAI,G,OAAQA,EAAKC,M,IAClB,GACHL,IAAInB,GAAsBoB,KAAK,IAC3ClC,EAAKM,KAAK6B,mBAAmB,YAAYC,GACjDpC,EAAKM,KAAKe,UAAUQ,IAAI,S,IAGnBU,OAAM,SAAAC,GACHC,QAAQC,IAAIF,E,ID9Bb,IAAyBjB,ECShC,IAAed,C,IA0BXT,EAAKI,KAAKiB,UAAUQ,IAAI,aACxB7B,EAAKK,MAAMgB,UAAUQ,IAAI,aD3ClBL,MAAM,GAAcb,OALd,gCAKmCA,OANlC,UAMuB,aAAeA,OAAJZ,IAC/C0B,MAAK,SAAAkB,GACF,OAAOA,EAAShB,M,IC0CNF,MAAK,SAAAG,GACf,IAAMnB,EAAKmB,EAAKK,IAAI1B,GAAa2B,KAAK,IACtClC,EAAKC,OAAOkC,mBAAmB,aAAa1B,E,IAE7C8B,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const KEY = 'live_rEv9nGLilDCvc0lglvJrH2rw3bUAK6aaFuCccjTCugKD7vuBlRJW6SgB1L7JOtF8';\nconst END_POINT = '/breeds';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst SEARCH_URL = 'https://api.thecatapi.com/v1/images/search'\n\nexport function fetchBreeds(){\n    \n    return fetch(`${BASE_URL}${END_POINT}?api_key=${KEY}`)\n    .then(response => {\n        return response.json()\n    })\n}\n\n\nexport function fetchCatByBreed(breedId){\n    return fetch(`${SEARCH_URL}?breed_ids=${breedId}&api_key=${KEY}`)\n    .then(resp => {\n        return resp.json();\n    })\n}","import {fetchBreeds} from './cat-api'\nimport {fetchCatByBreed} from './cat-api'\n\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    load: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n    info: document.querySelector('.cat-info'),\n}\n\n// 1+получить все породы\n// 2+подставить их селект\n// 3+получить инфу по выбраной породе\n// 4+подставить в див \nrefs.select.addEventListener('change', selectBreeds)\n\nfunction selectBreeds(evt) {\nconst getBreedId = evt.target.value;\ngetId(getBreedId);\n}\n\n\nfunction getId(id){\n    refs.load.classList.remove('is-hidden')\n    // if(refs.load.classList.contains('is-hidden')){\n    //     refs.info.classList.add('is-hidden')\n    // }\n    fetchCatByBreed(id).then(data => {\n        refs.load.classList.add('is-hidden')\n        \n        if(refs.info.classList.contains(\"active\")){\n            refs.info.innerHTML = '';\n           }\nconst img = data.map(createMarkUpImg).join('');\nrefs.info.insertAdjacentHTML('afterbegin',img);\nconst breedsInfo = data.map(elem => elem.breeds);\nconst arr = breedsInfo[0];\nconst dataCat = arr.map(createMarkUpAboutCat).join('');\n        refs.info.insertAdjacentHTML('beforeend',dataCat);\nrefs.info.classList.add('active')\n\n})\n    .catch(err => {\n        console.log(err)\n    })\n}\n\nfunction getBreeds () {\n    refs.load.classList.add('is-hidden')\n    refs.error.classList.add('is-hidden')\n    fetchBreeds().then(data => {\n        const id = data.map(addMarkUpId).join('')\n        refs.select.insertAdjacentHTML('afterbegin',id)\n        \n    }).catch(err => {\n        console.log(err)\n    })\n}\n\n\nfunction addMarkUpId ({id, name}) {\nreturn `<option value=\"${id}\">${name}</option>`\n}\n\nfunction createMarkUpImg({url}){\nreturn `<div class=\"container-img\"> <img src=\"${url}\" alt=\"cat\" width=\"640\" class=\"cat-info_img\"></div>`\n}\n\nfunction createMarkUpAboutCat({description, name, temperament}){\n    return `<div class=\"container-info\"><h2 class=\"cat-info_name\">${name}</h2>\n    <p class=\"cat-info_text\">${description}</p>\n    <p><span class=\"cat-info_span\">Temperament:</span> ${temperament}</p></div>`\n}\n\ngetBreeds()\n\n\n\n"],"names":["$ae0c329fb0fb36dc$var$KEY","$b8f9b7833fa37166$var$refs","select","document","querySelector","load","error","info","$b8f9b7833fa37166$var$addMarkUpId","param","id","name","concat","$b8f9b7833fa37166$var$createMarkUpImg","url","$b8f9b7833fa37166$var$createMarkUpAboutCat","description","temperament","addEventListener","evt","target","value","classList","remove","breedId","fetch","then","resp","json","data","add","contains","innerHTML","img","map","join","insertAdjacentHTML","dataCat","elem","breeds","catch","err","console","log","response"],"version":3,"file":"index.8adbb93f.js.map"}